<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>52Â°North eventing REST API</title>
  <script src="js/jquery-2.2.4.min.js" type="text/javascript"></script>
  <script src="js/marked.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
  <link rel="stylesheet" href="css/style.css" type="text/css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css">
</head>
<body>

  <div id="preview" class="markdown-body"></div>
  <script type="text/javascript">
  $( document ).ready(
    function() {
      var apiUrl = window.location.href;
      apiUrl = apiUrl.substring(0, apiUrl.indexOf('/doc'));

      $.ajax(
        {
          url: "api.md",
          type: 'get',
          dataType: 'html',
          success: function(response) {
            var markup = marked(response.split('${baseUrl}').join(apiUrl));
            $('#preview').html( markup );

            $('#preview > pre code').each(function(i, block) {
              hljs.highlightBlock(block);
            });
          }
        }
      );
    }
  );
  </script>
</body>
</html>
